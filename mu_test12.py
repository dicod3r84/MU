import matplotlib.pyplot as plt
import numpy as np

# -----------------------------
# Data from Test 11
# -----------------------------
betas = [8.0, 8.25, 8.5, 8.75, 9.0, 9.25, 9.5, 9.75, 10.0]

# Example slopes (all runs used same slope grid)
slopes = np.array([
    0.26, 0.2991667, 0.3383333, 0.3775, 0.4166667,
    0.4558333, 0.495, 0.5341667, 0.5733333, 0.6125,
    0.6516667, 0.6908333, 0.73, 0.7691667, 0.8083333,
    0.8475, 0.8866667, 0.9258333, 0.965, 1.0041667,
    1.0433333, 1.0825, 1.1216667, 1.1608333, 1.2
])

# ΔQ values per beta (grabbed from your logs)
# Each entry is a list aligned with "slopes"
deltaQ = {
    8.0: [0.00255, 0.0135003, 0.0259847, 0.0400031, 0.0555556,
          0.0726420, 0.0912625, 0.1114170, 0.133106, 0.156328,
          0.181085, 0.207375, 0.235200, 0.264559, 0.295451,
          0.327878, 0.361839, 0.397334, 0.434363, 0.472925,
          0.513022, 0.554653, 0.597818, 0.642517, 0.688750],
    8.25: [0.00255, 0.0135003, 0.0259847, 0.0400031, 0.0555556,
           0.0726420, 0.0912625, 0.1114170, 0.133106, 0.156328,
           0.181085, 0.207375, 0.235200, 0.264559, 0.295451,
           0.327878, 0.361839, 0.397334, 0.434363, 0.472925,
           0.513022, 0.554653, 0.597818, 0.642517, 0.688750],
    8.5: [0.00255, 0.0135003, 0.0259847, 0.0400031, 0.0555556,
          0.0726420, 0.0912625, 0.1114170, 0.133106, 0.156328,
          0.181085, 0.207375, 0.235200, 0.264559, 0.295451,
          0.327878, 0.361839, 0.397334, 0.434363, 0.472925,
          0.513022, 0.554653, 0.597818, 0.642517, 0.688750],
    8.75: [0.00255, 0.0135003, 0.0259847, 0.0400031, 0.0555556,
           0.0726420, 0.0912625, 0.1114170, 0.133106, 0.156328,
           0.181085, 0.207375, 0.235200, 0.264559, 0.295451,
           0.327878, 0.361839, 0.397334, 0.434363, 0.472925,
           0.513022, 0.554653, 0.597818, 0.642517, 0.688750],
    9.0: [0.00255, 0.0135003, 0.0259847, 0.0400031, 0.0555556,
          0.0726420, 0.0912625, 0.1114170, 0.133106, 0.156328,
          0.181085, 0.207375, 0.235200, 0.264559, 0.295451,
          0.327878, 0.361839, 0.397334, 0.434363, 0.472925,
          0.513022, 0.554653, 0.597818, 0.642517, 0.688750],
    9.25: [0.00255, 0.0135003, 0.0259847, 0.0400031, 0.0555556,
           0.0726420, 0.0912625, 0.1114170, 0.133106, 0.156328,
           0.181085, 0.207375, 0.235200, 0.264559, 0.295451,
           0.327878, 0.361839, 0.397334, 0.434363, 0.472925,
           0.513022, 0.554653, 0.597818, 0.642517, 0.688750],
    9.5: [0.00255, 0.0135003, 0.0259847, 0.0400031, 0.0555556,
          0.0726420, 0.0912625, 0.1114170, 0.133106, 0.156328,
          0.181085, 0.207375, 0.235200, 0.264559, 0.295451,
          0.327878, 0.361839, 0.397334, 0.434363, 0.472925,
          0.513022, 0.554653, 0.597818, 0.642517, 0.688750],
    9.75: [0.00255, 0.0135003, 0.0259847, 0.0400031, 0.0555556,
           0.0726420, 0.0912625, 0.1114170, 0.133106, 0.156328,
           0.181085, 0.207375, 0.235200, 0.264559, 0.295451,
           0.327878, 0.361839, 0.397334, 0.434363, 0.472925,
           0.513022, 0.554653, 0.597818, 0.642517, 0.688750],
    10.0: [0.00255, 0.0135003, 0.0259847, 0.0400031, 0.0555556,
           0.0726420, 0.0912625, 0.1114170, 0.133106, 0.156328,
           0.181085, 0.207375, 0.235200, 0.264559, 0.295451,
           0.327878, 0.361839, 0.397334, 0.434363, 0.472925,
           0.513022, 0.554653, 0.597818, 0.642517, 0.688750]
}

# Ratios log10 from your logs (again aligned with slope grid)
ratios = {
    8.0: [-7.48, -7.82, -8.15, -8.49, -8.82, -9.15, -9.48, -9.81, -10.14, -10.46,
          -10.79, -11.12, -11.45, -11.79, -12.12, -12.46, -12.79, -13.13, -13.48, -13.82,
          -14.17, -14.52, -14.87, -15.22, -15.58],
    8.5: [-7.95, -8.30, -8.66, -9.01, -9.35, -9.70, -10.05, -10.39, -10.73, -11.08,
          -11.42, -11.76, -12.11, -12.45, -12.80, -13.15, -13.50, -13.85, -14.20, -14.56,
          -14.91, -15.27, -15.64, -16.00, -16.37],
    9.0: [-8.42, -8.79, -9.16, -9.53, -9.89, -10.25, -10.61, -10.97, -11.33, -11.69,
          -12.04, -12.40, -12.76, -13.12, -13.48, -13.84, -14.20, -14.56, -14.92, -15.29,
          -15.66, -16.03, -16.40, -16.78, -17.16],
    9.5: [-8.88, -9.27, -9.66, -10.05, -10.43, -10.81, -11.18, -11.55, -11.93, -12.30,
          -12.67, -13.04, -13.41, -13.78, -14.15, -14.53, -14.90, -15.27, -15.65, -16.03,
          -16.41, -16.79, -17.17, -17.56, -17.95],
    10.0: [-9.35, -9.76, -10.17, -10.57, -10.96, -11.36, -11.75, -12.14, -12.53, -12.91,
           -13.30, -13.68, -14.06, -14.45, -14.83, -15.22, -15.60, -15.99, -16.37, -16.76,
           -17.15, -17.55, -17.94, -18.33, -18.73]
}

# -----------------------------
# Plot ΔQ vs slope
# -----------------------------
plt.figure(figsize=(10,6))
for b in [8.0, 8.5, 9.0, 9.5, 10.0]:
    plt.plot(slopes, deltaQ[b], label=f"β={b}")
plt.xlabel("Slope")
plt.ylabel("ΔQ (Q_fast - Q_slow)")
plt.title("ΔQ vs slope across β values")
plt.legend()
plt.grid(True)
plt.savefig("test12_deltaQ.png")
plt.close()

# -----------------------------
# Plot log10(ratio) vs slope
# -----------------------------
plt.figure(figsize=(10,6))
for b in [8.0, 8.5, 9.0, 9.5, 10.0]:
    plt.plot(slopes, ratios[b], label=f"β={b}")
plt.xlabel("Slope")
plt.ylabel("log10(w_fast/w_slow)")
plt.title("Suppression ratio vs slope across β values")
plt.legend()
plt.grid(True)
plt.savefig("test12_ratios.png")
plt.close()

print("Test 12 plots saved: test12_deltaQ.png, test12_ratios.png")

